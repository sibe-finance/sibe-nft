(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{119:function(e,t,n){},157:function(e){e.exports=JSON.parse('{"api_version":"0.1","result":{"api_code":200,"api_response":"Success","data":[{"name":"aurory","url":"/aurory","logo":"/icons/95ae4291971fa95f63070036925be0f0.jpg","on_sale":785,"holders":5304,"items":9993,"floor":"34.00","floor_marketcap":37666015.32,"floor_marketcap_pretty":"37.67M"},{"name":"degenape","url":"/degenapes","logo":"/icons/78689484477ccab21f1dea417ce78017.jpg","on_sale":1345,"holders":4624,"items":10000,"floor":"74.00","floor_marketcap":82036400,"floor_marketcap_pretty":"82.04M"},{"name":"thugbirdz","url":"/thugbirdz","logo":"/icons/b675b8a67963e50f56d22ba28ad96ac6.jpg","on_sale":280,"holders":2330,"items":3312,"floor":"27.90","floor_marketcap":10243996.127999999,"floor_marketcap_pretty":"10.24M"},{"name":"theexiledapes","url":"/exiled_degenapes","logo":"/icons/c66adcc2b9dbce41ab03f1c4855099f7.jpg","on_sale":16,"holders":434,"items":647,"floor":"41.00","floor_marketcap":2940783.22,"floor_marketcap_pretty":"2.94M"},{"name":"No Goal Faces","url":"/nogoalfaces","logo":"/icons/3ececca05a255f31b850d2c1634f97b1.jpg","on_sale":97,"holders":293,"items":512,"floor":"0.12","floor_marketcap":6811.238399999999,"floor_marketcap_pretty":"6.81K"},{"name":"Kaiju Cards","url":"/kaiju","logo":"/icons/0007f7011490d9eda738cea8abfaf203.png","on_sale":786,"holders":3961,"items":5498,"floor":"1.30","floor_marketcap":791751.25572,"floor_marketcap_pretty":"791.75K"},{"name":"piggysolgang","url":"/piggysolgang","logo":"/icons/969fe839b676afdcc0a92edab12ccbf2.jpg","on_sale":726,"holders":1989,"items":10000,"floor":"1.84","floor_marketcap":2039824,"floor_marketcap_pretty":"2.04M"}]}}')},172:function(e,t,n){},175:function(e,t){},176:function(e,t){},197:function(e,t){},198:function(e,t){},265:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(90),s=n.n(c),i=n(43),o=n(9),l=(n(172),n(119),n(4));function u(e){return Object(l.jsxs)("button",{className:"burger",onClick:function(){return e.setOpen(!e.open)},children:[Object(l.jsx)("div",{style:{transform:e.open?"rotate(45deg)":"translateY(-6px)",width:"28px"}}),Object(l.jsx)("div",{style:{transform:e.open?"translateX(20px)":"scaleX(1)",opacity:e.open?"0":"1",width:"20px"}}),Object(l.jsx)("div",{style:{transform:e.open?"rotate(-45deg)":"translateY(6px)",width:"28px"}})]})}var d=n.p+"static/media/github.6cd3efeb.svg",b=n.p+"static/media/telegram.c2ac02ad.svg",f=n.p+"static/media/twitter.deedb5ed.svg",p=n.p+"static/media/discord.2fd207e1.svg",m=n(152),h=n(64);function j(e){Object(m.b)();return Object(l.jsxs)("div",{className:"header",style:{backgroundColor:e.open&&"#191919"},children:[Object(l.jsx)("a",{href:"|",className:"header-logo"}),Object(l.jsx)("nav",{className:"header-menu",children:Object(l.jsxs)("ul",{className:"header-menu-ul",children:[Object(l.jsx)("li",{className:"header-menu-li",onClick:e.staking,children:"Staking"}),Object(l.jsxs)("li",{className:"header-menu-li",children:[" ",Object(l.jsx)("a",{href:"https://sibe-finance.github.io/sibe-docs/",children:"Docs"})]}),Object(l.jsx)("li",{className:"header-menu-li",children:"Sibe paper"}),Object(l.jsx)("li",{className:"header-menu-li",onClick:e.nft,children:"Sibe NFT"}),Object(l.jsx)("li",{className:"header-menu-li",children:"Roadmap"})]})}),Object(l.jsx)("nav",{className:"header-socials",children:Object(l.jsxs)("ul",{className:"header-socials-ul",children:[Object(l.jsx)("li",{className:"header-socials-li",children:Object(l.jsx)("a",{href:"github",children:Object(l.jsx)("img",{src:d,alt:"https://github.com/sibe-finance"})})}),Object(l.jsx)("li",{className:"header-socials-li",children:Object(l.jsx)("a",{href:"telegram",children:Object(l.jsx)("img",{src:b,alt:"https://t.me/SIBEprotocol"})})}),Object(l.jsx)("li",{className:"header-socials-li",children:Object(l.jsx)("a",{href:"twitter",children:Object(l.jsx)("img",{src:f,alt:"https://twitter.com/SibeGameFi?t=P1crNdFCL3F3p71_31zpLA&s=09"})})}),Object(l.jsx)("li",{className:"header-socials-li",children:Object(l.jsx)("a",{href:"discord",children:Object(l.jsx)("img",{src:p,alt:"https://discord.com/invite/yE3Q6mG9De"})})})]})}),Object(l.jsx)(h.b,{className:"header-connect-wallet"}),Object(l.jsx)(u,{open:e.open,setOpen:e.setOpen})]})}function g(){return Object(l.jsxs)("div",{className:"footer",children:[Object(l.jsx)("nav",{className:"footer-socials",children:Object(l.jsxs)("ul",{className:"footer-socials-ul",children:[Object(l.jsx)("li",{className:"footer-socials-li",children:Object(l.jsx)("a",{href:"https://github.com/sibe-finance",children:Object(l.jsx)("img",{src:d,alt:"github"})})}),Object(l.jsx)("li",{className:"footer-socials-li",children:Object(l.jsx)("a",{href:"https://t.me/SIBEprotocol",children:Object(l.jsx)("img",{src:b,alt:"telegram"})})}),Object(l.jsx)("li",{className:"footer-socials-li",children:Object(l.jsx)("a",{href:"https://twitter.com/SibeGameFi?t=P1crNdFCL3F3p71_31zpLA&s=09",children:Object(l.jsx)("img",{src:f,alt:"twitter"})})}),Object(l.jsx)("li",{className:"footer-socials-li",children:Object(l.jsx)("a",{href:"https://discord.com/invite/yE3Q6mG9De",children:Object(l.jsx)("img",{src:p,alt:"discord"})})})]})}),Object(l.jsx)("nav",{className:"footer-menu",children:Object(l.jsxs)("ul",{className:"footer-menu-ul",children:[Object(l.jsx)("li",{className:"footer-menu-li",children:Object(l.jsx)("a",{href:"https://github.com/sibe-finance",children:"Github"})}),Object(l.jsx)("li",{className:"footer-menu-li",children:Object(l.jsx)("a",{href:"/",children:"Sibe NFT"})}),Object(l.jsx)("li",{className:"footer-menu-li",children:Object(l.jsx)("a",{href:"/",children:"Docs"})}),Object(l.jsx)("li",{className:"footer-menu-li",children:Object(l.jsx)("a",{href:"https://sibe-finance.github.io/sibe-docs/",children:"Cispracs"})}),Object(l.jsx)("li",{className:"footer-menu-li",children:Object(l.jsx)("a",{href:"/",children:"Roadmap"})})]})})]})}function x(e){return Object(l.jsxs)("div",{className:"overlay",children:[Object(l.jsx)("nav",{className:"overlay-menu",children:Object(l.jsxs)("ul",{className:"overlay-menu-ul",children:[Object(l.jsx)("li",{className:"overlay-menu-li",children:"Staking"}),Object(l.jsxs)("li",{className:"overlay-menu-li",children:[" ",Object(l.jsx)("a",{href:"https://sibe-finance.github.io/sibe-docs/",children:"Docs"})]}),Object(l.jsx)("li",{className:"overlay-menu-li",children:"Sibe paper"}),Object(l.jsx)("li",{className:"overlay-menu-li",children:"Sibe NFT"}),Object(l.jsx)("li",{className:"overlay-menu-li",children:"Roadmap"})]})}),Object(l.jsx)(h.b,{className:"overlay-connect-wallet"})]})}var v=n(18),O=n(17);function k(){var e=Object(O.g)(),t=Object(O.e)().state.token,n=[{key:"Background",value:"Base Background"},{key:"Skin",value:"Human"},{key:"Cloth",value:"Jacket"},{key:"Necklace",value:"Flower Necklace"},{key:"Mouth",value:"Plague Mask"},{key:"Eyes",value:"Red Eyes"},{key:"Hair",value:"Pigtails"},{key:"Type",value:"Aurorian"}];return Object(l.jsxs)("div",{className:"body",children:[Object(l.jsx)("h1",{className:"nft-card-h1",children:e.collectionId}),Object(l.jsxs)("div",{className:"nft-card-wrapper",children:[Object(l.jsxs)("div",{className:"nft-card-container ",children:[Object(l.jsx)("img",{src:t.img,alt:"",className:"nft-card-img"}),Object(l.jsxs)("button",{className:"nft-card-buy",onClick:function(){return console.log(n)},children:["Buy now ",Object(l.jsxs)("span",{children:[" ",t.price.toFixed(2)," SOL"]})]})]}),Object(l.jsxs)("div",{className:"nft-card-container",children:[Object(l.jsxs)("span",{className:"nft-card-id",children:["# ",Object(l.jsxs)("span",{children:[" ",t.id," "]})]}),Object(l.jsx)("h2",{className:"nft-card-name",children:t.name}),Object(l.jsx)("h4",{className:"nft-card-collection",children:e.collectionId}),Object(l.jsxs)("span",{className:"nft-card-owner",children:["Owned by ",Object(l.jsx)("h4",{className:"nft-card-owner-address",children:t.owner.slice(0,26)+"..."})]}),Object(l.jsx)("div",{className:"nft-card-attributes",children:n.map((function(e,t){return Object(l.jsxs)("div",{className:"attributes-wrapper",children:[Object(l.jsx)("span",{className:"rarity",children:"10% rarity"}),Object(l.jsx)("h4",{className:"attr-name",children:e.key}),Object(l.jsx)("h4",{className:"attr-data",children:e.value})]},t)}))}),Object(l.jsxs)("button",{className:"mobile-nft-card-buy",onClick:function(){return console.log(n)},children:["Buy now ",Object(l.jsxs)("span",{children:[" ",t.price.toFixed(2)," SOL"]})]})]})]})]})}var y=n(14),w=n(65),S=["collectionId"];function N(e){e.collectionId;var t=Object(w.a)(e,S),n=Object(r.useState)(Object(y.a)({},t)),a=Object(o.a)(n,2),c=a[0],s=(a[1],e.token_add);return Object(l.jsxs)(i.b,{to:"/".concat(e.collectionId,"/").concat(e.name),state:{token:c},className:"nft-item-wrapper",children:[Object(l.jsx)("img",{src:e.img,alt:"nft-item",className:"nft-item-img"}),Object(l.jsx)("h3",{className:"nft-item-name",children:e.name}),Object(l.jsxs)("div",{className:"nft-item-token-address",children:[Object(l.jsx)("div",{className:"nft-item-logo"}),Object(l.jsx)("p",{className:"nft-item-address",children:s.slice(0,5)+"..."+s.slice(-5)})]})]})}function T(){return Object(l.jsxs)("div",{className:"loader-wrapper",children:[Object(l.jsx)("div",{className:"loader"}),Object(l.jsx)("div",{className:"loader"}),Object(l.jsx)("div",{className:"loader"})]})}function P(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=(t[1],Object(r.useState)([])),c=Object(o.a)(a,2),s=c[0],i=c[1],u=(Object(m.b)(),function(){var e=Object(r.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1];return{get:function(e){return new Promise((function(t,n){fetch(e).then((function(e){return e.json()})).then((function(e){e||(a(!1),n(e)),a(!1),t(e)})).catch((function(e){a(!1),n(e)}))}))},loader:n}}()),d=u.get,b=u.loader,f=Object(O.g)(),p=f.collectionId;Object(r.useEffect)((function(){d("https://qzlsklfacc.medianetwork.cloud/nft_for_sale?collection=".concat(p)).then((function(e){return console.log(e),i(e),s})).catch((function(e){return console.error(e)}))}),[]);return Object(l.jsx)("div",{className:"body",children:Object(l.jsxs)("div",{className:"nft-marketplace-wrapper",children:[Object(l.jsx)("h1",{className:"nft-marketplace-header",children:f.collectionId}),Object(l.jsxs)("div",{className:"nft-marketplace-items-wrapper",children:[Object(l.jsx)("div",{className:"decor"}),Object(l.jsx)("h2",{style:{color:"white"},children:b?Object(l.jsx)(T,{}):""}),n&&Object(l.jsx)("div",{className:"nft-items-wrapper"}),!n&&Object(l.jsx)("div",{className:"nft-items-wrapper",children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(l.jsx)(N,{id:e.id,token_add:e.token_add,price:e.price,img:e.link_img,name:e.name,owner:e.seller_address,attr:e.attributes,collectionId:f.collectionId},t)}))}),Object(l.jsx)("div",{className:"arrows"})]})]})})}var M=n(157);function E(e){var t=Object(r.useState)(M.result.data),n=Object(o.a)(t,2),a=n[0];n[1];return Object(l.jsx)("div",{className:"collections-wrapper",children:null===a||void 0===a?void 0:a.map((function(e){return Object(l.jsxs)(i.b,{to:"".concat(e.name),className:"collection-item-wrapper",children:[Object(l.jsx)("div",{className:"collection-item-logo"}),Object(l.jsx)("h3",{className:"collection-item-header",children:e.name}),Object(l.jsxs)("div",{className:"collection-item-volume volume",children:[Object(l.jsx)("h4",{className:"collection-item-volume-h4 volume-h4",children:"Volume"}),Object(l.jsxs)("span",{className:"collection-item-volume-data volume-data",children:[" ",e.items," "]})]})]},e.name)}))})}var K=n(3),_=n(1),R=n.n(_),A=n(75),I=n(37),B=n(54),C=n(162),F=n(76),L=function(e){var t=e.onMint,n=e.candyMachine,a=e.isMinting,c=e.setIsMinting,s=e.isActive,i=Object(m.b)(),u=Object(C.b)(),d=Object(r.useState)(!1),b=Object(o.a)(d,2),f=b[0],p=b[1],h=Object(B.useGateway)(),j=h.requestGatewayToken,g=h.gatewayStatus,x=Object(r.useState)(-1),v=Object(o.a)(x,2),O=v[0],k=v[1],y=Object(r.useState)(!1),w=Object(o.a)(y,2),S=w[0],N=w[1];Object(r.useEffect)((function(){var e=function(){var e=Object(K.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.removeAccountChangeListener)(u.connection,O);case 2:return e.next=4,t();case 4:N(!1),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();f&&S&&e()}),[f,S,u.connection,t,O]);var T=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}(g);return Object(r.useEffect)((function(){var e=[B.GatewayStatus.NOT_REQUESTED,B.GatewayStatus.REFRESH_TOKEN_REQUIRED],t=[].concat(e,[B.GatewayStatus.UNKNOWN]);e.find((function(e){return T===e}))&&!t.find((function(e){return g===e}))&&c(!0),console.log("change: ",g)}),[c,T,g]),Object(l.jsx)("button",{className:"mint-button",disabled:a||!s,onClick:Object(K.a)(R.a.mark((function e(){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.state.isActive||null===n||void 0===n||!n.state.gatekeeper){e.next=34;break}if("ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6"!==(r=n.state.gatekeeper.gatekeeperNetwork.toBase58())){e.next=13;break}if(g!==B.GatewayStatus.ACTIVE){e.next=8;break}return e.next=6,t();case 6:e.next=11;break;case 8:return e.next=10,j();case 10:console.log("after: ",g);case 11:e.next=32;break;case 13:if("ttib7tuX8PTWPqFsmUFQTj78MbRhUmqxidJRDv4hRRE"!==r&&"tibePmPaoTgrs929rWpu755EXaxC7M3SthVCf6GzjZt"!==r){e.next=30;break}return N(!0),e.next=17,Object(F.findGatewayToken)(u.connection,i.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 17:if(null===(a=e.sent)||void 0===a||!a.isValid()){e.next=23;break}return e.next=21,t();case 21:e.next=28;break;case 23:return window.open("https://verify.encore.fans/?gkNetwork=".concat(r),"_blank"),e.next=26,Object(F.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(i.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 26:c=e.sent,k(Object(F.onGatewayTokenChange)(u.connection,c,(function(){return p(!0)}),"confirmed"));case 28:e.next=32;break;case 30:throw N(!1),new Error("Unknown Gatekeeper Network: ".concat(r));case 32:e.next=37;break;case 34:return e.next=36,t();case 36:N(!1);case 37:case"end":return e.stop()}}),e)}))),children:null!==n&&void 0!==n&&n.state.isSoldOut?"SOLD OUT":a?"Loading...":null!==n&&void 0!==n&&n.state.isPresale||null!==n&&void 0!==n&&n.state.isWhitelistOnly?"WHITELIST MINT":"Buy now ".concat(I.c.asNumber(null===n||void 0===n?void 0:n.state.price)||.05," SOL")})};var W=n(5),U=n(74),D=n.p+"static/media/box.c530f7bb.svg";function G(e){var t,n,a=Object(r.useState)({open:!1,message:"",severity:void 0}),c=Object(o.a)(a,2),s=(c[0],c[1]),i=Object(r.useState)(),u=Object(o.a)(i,2),d=u[0],b=u[1],f=Object(r.useState)(),p=Object(o.a)(f,2),h=(p[0],p[1]),j=Object(r.useState)(),g=Object(o.a)(j,2),x=(g[0],g[1]),O=Object(r.useState)(!1),k=Object(o.a)(O,2),y=k[0],w=k[1],S=Object(r.useState)(!1),N=Object(o.a)(S,2),T=N[0],P=N[1],M=Object(r.useState)(),E=Object(o.a)(M,2),_=E[0],C=E[1],F=Object(r.useState)(!1),G=Object(o.a)(F,2),Y=G[0],z=G[1],q=Object(r.useState)(!1),V=Object(o.a)(q,2),H=V[0],J=V[1],Q=e.rpcHost,X=Object(m.b)(),Z=Object(r.useMemo)((function(){if(X&&X.publicKey&&X.signAllTransactions&&X.signTransaction)return{publicKey:X.publicKey,signAllTransactions:X.signAllTransactions,signTransaction:X.signTransaction}}),[X]),$=Object(r.useCallback)(Object(K.a)(R.a.mark((function t(){var n,r,a,c,s,i,o,l,u,d,f;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Z){t.next=2;break}return t.abrupt("return");case 2:if(!e.candyMachineId){t.next=43;break}return t.prev=3,t.next=6,Object(A.c)(Z,e.candyMachineId,e.connection);case 6:if(c=t.sent,s=(null===c||void 0===c||null===(n=c.state.goLiveDate)||void 0===n?void 0:n.toNumber())<(new Date).getTime()/1e3,i=!1,null===c||void 0===c||!c.state.whitelistMintSettings){t.next=31;break}return c.state.whitelistMintSettings.presale&&(!c.state.goLiveDate||c.state.goLiveDate.toNumber()>(new Date).getTime()/1e3)&&(i=!0),c.state.whitelistMintSettings.discountPrice?h(c.state.whitelistMintSettings.discountPrice):(h(void 0),c.state.whitelistMintSettings.presale||(c.state.isWhitelistOnly=!0)),o=new v.d.PublicKey(c.state.whitelistMintSettings.mint),t.next=15,Object(I.d)(o,Z.publicKey);case 15:return l=t.sent[0],t.prev=16,t.next=19,e.connection.getTokenAccountBalance(l);case 19:u=t.sent,d=parseInt(u.value.amount)>0,z(d),s=i&&d||s,t.next=31;break;case 25:t.prev=25,t.t0=t.catch(16),z(!1),c.state.isWhitelistOnly&&(s=!1),console.log("There was a problem fetching whitelist token balance"),console.log(t.t0);case 31:null!==c&&void 0!==c&&null!==(r=c.state.endSettings)&&void 0!==r&&r.endSettingType.date&&(x(Object(I.g)(c.state.endSettings.number)),c.state.endSettings.number.toNumber()<(new Date).getTime()/1e3&&(s=!1)),null!==c&&void 0!==c&&null!==(a=c.state.endSettings)&&void 0!==a&&a.endSettingType.amount?(f=Math.min(c.state.endSettings.number.toNumber(),c.state.itemsAvailable),c.state.itemsRedeemed<f?C(f-c.state.itemsRedeemed):(C(0),c.state.isSoldOut=!0)):C(c.state.itemsRemaining),c.state.isSoldOut&&(s=!1),P(c.state.isActive=s),J(c.state.isPresale=i),b(c),t.next=43;break;case 39:t.prev=39,t.t1=t.catch(3),console.log("There was a problem fetching Candy Machine state"),console.log(t.t1);case 43:case"end":return t.stop()}}),t,null,[[3,39],[16,25]])}))),[Z,e.candyMachineId,e.connection]),ee=function(){var t=Object(K.a)(R.a.mark((function t(){var n,r,a,c,i,o,l,u,b=arguments;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=b.length>0&&void 0!==b[0]?b[0]:[],r=b.length>1&&void 0!==b[1]?b[1]:[],t.prev=2,w(!0),null===(a=document.getElementById("#identity"))||void 0===a||a.click(),!(X.connected&&null!==d&&void 0!==d&&d.program&&X.publicKey)){t.next=16;break}return t.next=8,Object(A.d)(d,X.publicKey,n,r);case 8:if(c=t.sent,i=c[0],o={err:!0},!i){t.next=15;break}return t.next=14,Object(A.b)(i,e.txTimeout,e.connection,!0);case 14:o=t.sent;case 15:o&&!o.err?(C(l=_-1),P(d.state.isActive=l>0),d.state.isSoldOut=0===l,s({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"})):s({open:!0,message:"Mint failed! Please try again!",severity:"error"});case 16:t.next=24;break;case 18:t.prev=18,t.t0=t.catch(2),u=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(console.log(t.t0),u="SOLD OUT!",window.location.reload()):312===t.t0.code&&(u="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x137")?(console.log(t.t0),u="SOLD OUT!"):t.t0.message.indexOf("0x135")&&(u="Insufficient funds to mint. Please fund your wallet."):u="Transaction Timeout! Please try again.",s({open:!0,message:u,severity:"error"}),$();case 24:return t.prev=24,w(!1),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[2,18,24,27]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){$()}),[Z,e.candyMachineId,e.connection,$]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"mint-section",children:[Object(l.jsxs)("h1",{className:"mint-header",children:["Sibe Protocol ",Object(l.jsx)("br",{})," white list "]}),Object(l.jsxs)("div",{className:"mint-volume volume",children:[Object(l.jsx)("h4",{className:"mint-volume-h4 volume-h4",children:"Volume"}),Object(l.jsx)("span",{className:"mint-volume-data volume-data",children:"6666"})]}),_&&Object(l.jsxs)("span",{className:"volume",children:["Items remaining ",_]}),null!==d&&void 0!==d&&d.state.isActive&&null!==d&&void 0!==d&&d.state.gatekeeper&&X.publicKey&&X.signTransaction?Object(l.jsx)(B.GatewayProvider,{wallet:{publicKey:X.publicKey||new W.PublicKey(A.a),signTransaction:X.signTransaction},gatekeeperNetwork:null===d||void 0===d||null===(t=d.state)||void 0===t||null===(n=t.gatekeeper)||void 0===n?void 0:n.gatekeeperNetwork,clusterUrl:Q,handleTransaction:function(){var t=Object(K.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(!0),!n.signatures.find((function(e){return e.publicKey.equals(X.publicKey)}))){t.next=17;break}return s({open:!0,message:"Please sign one-time Civic Pass issuance",severity:"info"}),t.prev=4,t.next=7,X.signTransaction(n);case 7:n=t.sent,t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(4),s({open:!0,message:"User cancelled signing",severity:"error"}),w(!1),t.t0;case 15:t.next=18;break;case 17:s({open:!0,message:"Refreshing Civic Pass",severity:"info"});case 18:return t.prev=18,t.next=21,Object(U.b)(e.connection,X,n,[],!0,"confirmed");case 21:s({open:!0,message:"Please sign minting",severity:"info"}),t.next=30;break;case 24:throw t.prev=24,t.t1=t.catch(18),s({open:!0,message:"Solana dropped the transaction, please try again",severity:"warning"}),console.error(t.t1),w(!1),t.t1;case 30:return t.next=32,ee();case 32:case"end":return t.stop()}}),t,null,[[4,10],[18,24]])})));return function(e){return t.apply(this,arguments)}}(),broadcastTransaction:!1,options:{autoShowModal:!1},children:Object(l.jsx)(L,{candyMachine:d,isMinting:y,setIsMinting:function(e){return w(e)},onMint:ee,isActive:T||H&&Y})}):Object(l.jsx)(L,{candyMachine:d,isMinting:y,setIsMinting:function(e){return w(e)},onMint:ee,isActive:T||H&&Y}),Object(l.jsx)("img",{src:D,alt:"box-img",className:"box-img"})]})})}function Y(e){return Object(l.jsxs)("div",{className:"body",children:[Object(l.jsx)("div",{className:"gradient"}),Object(l.jsx)(G,{candyMachineId:e.candyMachineId,connection:e.connection,txTimeout:e.txTimeout,rpcHost:e.rpcHost}),Object(l.jsx)("h1",{className:"collection-header",children:"SIBE NFT Collections"}),Object(l.jsx)(E,{})]})}var z=n(277),q=n(278),V=n(279),H=n(273),J=n(274),Q=n(275),X=n(276);n(264);var Z=function(){try{return new v.d.PublicKey("8aXm4nacmrTQ6shmocP78DwkSoChW68aZu8hFHtUTvAy")}catch(e){return void console.log("Failed to construct CandyMachineId",e)}}(),$="devnet",ee="https://metaplex.devnet.rpcpool.com/",te=new v.d.Connection(ee),ne=function(){var e,t,n=Object(r.useState)(!1),a=Object(o.a)(n,2),c=a[0],s=a[1],i=Object(r.useRef)();e=i,t=function(){return s(!1)},Object(r.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t(n)}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t]);var u=Object(r.useMemo)((function(){return Object(W.clusterApiUrl)($)}),[]),d=Object(r.useMemo)((function(){return[Object(z.a)(),Object(q.a)(),Object(V.a)(),Object(H.a)({network:$}),Object(J.a)({network:$})]}),[]);return Object(l.jsx)(Q.a,{endpoint:u,children:Object(l.jsx)(X.a,{wallets:d,autoConnect:!0,children:Object(l.jsxs)(h.a,{children:[Object(l.jsx)(j,{open:c,setOpen:s}),c?Object(l.jsx)(x,{}):Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{path:"/",element:Object(l.jsx)(Y,{candyMachineId:Z,connection:te,txTimeout:3e4,rpcHost:ee})}),Object(l.jsx)(O.a,{path:"/:collectionId",element:Object(l.jsx)(P,{})}),Object(l.jsx)(O.a,{path:"/:collectionId/:itemId",element:Object(l.jsx)(k,{})})]}),!c&&Object(l.jsx)(g,{})]})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,280)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(265);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(i.a,{children:Object(l.jsx)(ne,{})})}),document.getElementById("root")),re()},37:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return h}));var r=n(3),a=n(1),c=n.n(a),s=n(18),i=n(25),o=n(5),l=function(e){if(e)return new Date(1e3*e.toNumber())},u=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),d={format:function(e){return e?u.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/o.LAMPORTS_PER_SOL}},b=new s.d.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),f=new s.d.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),p=function(){var e=Object(r.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.d.PublicKey.findProgramAddress([n.toBuffer(),i.b.toBuffer(),t.toBuffer()],b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.d.PublicKey.findProgramAddress([n.toBuffer(),e.from("expire")],f);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(r.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.d.PublicKey.findProgramAddress([n.toBuffer(),e.from("gateway"),e.from([0,0,0,0,0,0,0,0]),r.toBuffer()],f);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(10).Buffer)},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b}));var r,a=n(13),c=n(3),s=n(1),i=n.n(s),o=n(5),l=n(66),u=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return r=e.sent,a=[],null!==r&&void 0!==r&&r.meta&&r.meta.logMessages&&r.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&a.push(t[1])})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var d=function(){var e=Object(c.a)(i.a.mark((function e(t,n,c,s){var u,d,b,f,p,h,j,g,x,v,O,k,y,w,S,N,T,P,M=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=M.length>4&&void 0!==M[4]?M[4]:r.Parallel,d=M.length>5&&void 0!==M[5]?M[5]:"singleGossip",b=M.length>6&&void 0!==M[6]?M[6]:function(e,t){},f=M.length>7&&void 0!==M[7]?M[7]:function(e,t){return!1},p=M.length>8?M[8]:void 0,h=M.length>9&&void 0!==M[9]?M[9]:[],j=M.length>10&&void 0!==M[10]?M[10]:[],n.publicKey){e.next=9;break}throw new l.e;case 9:if(g=h,p){e.next=14;break}return e.next=13,t.getRecentBlockhash(d);case 13:p=e.sent;case 14:x=function(e){var t=c[e],r=s[e];if(0===t.length)return"continue";var i=new o.Transaction;t.forEach((function(e){return i.add(e)})),i.recentBlockhash=p.blockhash,i.setSigners.apply(i,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&i.partialSign.apply(i,Object(a.a)(r)),g.push(i)},v=0;case 16:if(!(v<c.length)){e.next=23;break}if("continue"!==x(v)){e.next=20;break}return e.abrupt("continue",20);case 20:v++,e.next=16;break;case 23:return g.push.apply(g,Object(a.a)(j)),O=g.filter((function(e){return e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),k=g.filter((function(e){return!e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),e.next=28,n.signAllTransactions(O);case 28:y=e.sent,y=k.concat(y),w=[],console.log("Signed txns length",y.length,"vs handed in length",c.length),S=i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m({connection:t,signedTransaction:y[n]}),u===r.Parallel){e.next=22;break}return e.prev=2,e.next=5,a.then((function(e){var t=e.txid;e.slot;return b(t,n)}));case 5:w.push(a),e.next=20;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log("Failed at txn index:",n),console.log("Caught failure:",e.t0),f(y[n],n),u!==r.StopOnFailure){e.next=20;break}return e.t1=n,e.next=17,Promise.all(w);case 17:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 20:e.next=23;break;case 22:w.push(a);case 23:case"end":return e.stop()}}),e,null,[[2,8]])})),N=0;case 34:if(!(N<y.length)){e.next=42;break}return e.delegateYield(S(N),"t0",36);case 36:if("object"!==typeof(T=e.t0)){e.next=39;break}return e.abrupt("return",T.v);case 39:N++,e.next=34;break;case 42:if(u===r.Parallel){e.next=47;break}return e.next=45,Promise.all(w);case 45:return P=e.sent,e.abrupt("return",{number:y.length,txs:P});case 47:return e.t1=y.length,e.next=50,Promise.all(w);case 50:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(i.a.mark((function e(t,n,r,c){var s,d,b,f,m,h,j,g,v,O,k,y,w,S,N=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!(N.length>4&&void 0!==N[4])||N[4],d=N.length>5&&void 0!==N[5]?N[5]:"singleGossip",b=N.length>6&&void 0!==N[6]&&N[6],f=N.length>7?N[7]:void 0,n.publicKey){e.next=6;break}throw new l.e;case 6:if(!(r instanceof o.Transaction)){e.next=10;break}m=r,e.next=24;break;case 10:if(m=new o.Transaction,r.forEach((function(e){return m.add(e)})),e.t0=f,e.t0){e.next=17;break}return e.next=16,t.getRecentBlockhash(d);case 16:e.t0=e.sent;case 17:if(m.recentBlockhash=e.t0.blockhash,b?(h=m).setSigners.apply(h,Object(a.a)(c.map((function(e){return e.publicKey})))):(j=m).setSigners.apply(j,[n.publicKey].concat(Object(a.a)(c.map((function(e){return e.publicKey}))))),c.length>0&&(g=m).partialSign.apply(g,Object(a.a)(c)),b){e.next=24;break}return e.next=23,n.signTransaction(m);case 23:m=e.sent;case 24:return v=m.serialize(),O={skipPreflight:!0,commitment:d},e.next=28,t.sendRawTransaction(v,O);case 28:if(k=e.sent,y=0,!s){e.next=43;break}return e.next=33,x(k,p,t,d);case 33:if(w=e.sent){e.next=36;break}throw new Error("Timed out awaiting confirmation on transaction");case 36:if(y=(null===w||void 0===w?void 0:w.slot)||0,null===w||void 0===w||!w.err){e.next=43;break}return e.next=40,u(t,k);case 40:throw S=e.sent,console.log(S),new Error("Raw transaction ".concat(k," failed"));case 43:return e.abrupt("return",{txid:k,slot:y});case 44:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),f=function(){return(new Date).getTime()/1e3},p=15e3;function m(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(i.a.mark((function e(t){var n,r,a,s,o,l,u,d,b,m,h,g,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,s=void 0===a?p:a,o=n.serialize(),l=f(),u=0,e.next=6,r.sendRawTransaction(o,{skipPreflight:!0});case 6:return d=e.sent,console.log("Started awaiting confirmation for",d),b=!1,Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b||!(f()-l<s)){e.next=6;break}return r.sendRawTransaction(o,{skipPreflight:!0}),e.next=4,O(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,x(d,s,r,"recent",!0);case 13:if(m=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!m.err){e.next=19;break}throw console.error(m.err),new Error("Transaction failed: Custom instruction error");case 19:u=(null===m||void 0===m?void 0:m.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return h=null,e.prev=28,e.next=31,j(r,n,"single");case 31:h=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!h||!h.err){e.next=47;break}if(!h.logs){e.next=46;break}g=h.logs.length-1;case 39:if(!(g>=0)){e.next=46;break}if(!(v=h.logs[g]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+v.slice("Program log: ".length));case 43:--g,e.next=39;break;case 46:throw new Error(JSON.stringify(h.err));case 47:return e.prev=47,b=!0,e.finish(47);case 50:return console.log("Latency",d,f()-l),e.abrupt("return",{txid:d,slot:u});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function j(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(i.a.mark((function e(t,n,r){var a,c,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),c=n._serialize(a),s=c.toString("base64"),o=[s,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",o);case 10:if(!(l=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+l.error.message);case 13:return e.abrupt("return",l.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return v.apply(this,arguments)}function v(){return v=Object(c.a)(i.a.mark((function e(t,n,r){var a,s,o,l,u,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",s=d.length>4&&void 0!==d[4]&&d[4],o=!1,l={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(c.a)(i.a.mark((function e(d,b){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{u=r.onSignature(t,(function(e,t){o=!0,l={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(l)):(console.log("Resolved via websocket",e),d(l))}),a)}catch(f){o=!0,console.error("WS error in setup",t,f)}case 2:if(o||!s){e.next=8;break}return Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,l=n&&n.value[0],o||(l?l.err?(console.log("REST error for",t,l),o=!0,b(l.err)):l.confirmations?(console.log("REST confirmation for",t,l),o=!0,d(l)):console.log("REST no confirmations for",t,l):console.log("REST null result for",t,l)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,O(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return l=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),o=!0,console.log("Returning status",l),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function O(e){return new Promise((function(t){return setTimeout(t,e)}))}},75:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return k}));var r=n(9),a=n(3),c=n(1),s=n.n(c),i=n(18),o=n(25),l=n(5),u=n(74),d=n(37),b=new i.d.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),f=new i.d.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),p=function(){var e=Object(a.a)(s.a.mark((function e(t,n,r){var c,i,o,l,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.length>3&&void 0!==u[3]&&u[3],i=!1,o={slot:0,confirmations:0,err:null},l=0,e.next=6,new Promise(function(){var e=Object(a.a)(s.a.mark((function e(l,u){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){i||(i=!0,console.log("Rejecting for timeout..."),u({timeout:!0}))}),n);case 1:if(i||!c){e.next=7;break}return Object(a.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,o=n&&n.value[0],i||(o?o.err?(console.log("REST error for",t,o),i=!0,u(o.err)):o.confirmations?(console.log("REST confirmation for",t,o),i=!0,l(o)):console.log("REST no confirmations for",t,o):console.log("REST null result for",t,o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,y(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:return o=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),i=!0,console.log("Returning status",o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(t,n,r,a){var c=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i.d.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:i.d.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new i.d.TransactionInstruction({keys:c,programId:d.b,data:e.from([])})},h=function(){var e=Object(a.a)(s.a.mark((function e(t,n,r){var a,c,o,l,u,d,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new i.b(r,t,{preflightCommitment:"processed"}),e.next=3,i.a.fetchIdl(b,a);case 3:return c=e.sent,o=new i.a(c,b,a),e.next=7,o.account.candyMachine.fetch(n);case 7:return l=e.sent,u=l.data.itemsAvailable.toNumber(),d=l.itemsRedeemed.toNumber(),f=u-d,e.abrupt("return",{id:n,program:o,state:{authority:l.authority,itemsAvailable:u,itemsRedeemed:d,itemsRemaining:f,isSoldOut:0===f,isActive:!1,isPresale:!1,isWhitelistOnly:!1,goLiveDate:l.data.goLiveDate,treasury:l.wallet,tokenMint:l.tokenMint,gatekeeper:l.data.gatekeeper,endSettings:l.data.endSettings,whitelistMintSettings:l.data.whitelistMintSettings,hiddenSettings:l.data.hiddenSettings,price:l.data.price,retainAuthority:l.data.retainAuthority}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.PublicKey.findProgramAddress([e.from("metadata"),f.toBuffer(),n.toBuffer(),e.from("edition")],f);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.PublicKey.findProgramAddress([e.from("metadata"),f.toBuffer(),n.toBuffer()],f);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.PublicKey.findProgramAddress([e.from("collection"),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(a.a)(s.a.mark((function t(n,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.PublicKey.findProgramAddress([e.from("metadata"),f.toBuffer(),n.toBuffer(),e.from("collection_authority"),r.toBuffer()],f);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),k=function(){var e=Object(a.a)(s.a.mark((function e(t,n){var a,c,b,p,h,k,y,w,S,N,T,P,M,E,K,_,R,A,I,B,C,F,L,W,U,D,G,Y,z,q,V,H,J,Q,X,Z,$,ee,te,ne,re=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=re.length>2&&void 0!==re[2]?re[2]:[],h=re.length>3&&void 0!==re[3]?re[3]:[],k=i.d.Keypair.generate(),e.next=5,Object(d.d)(k.publicKey,n);case 5:if(y=e.sent[0],!t.state.tokenMint){e.next=12;break}return e.next=9,Object(d.d)(t.state.tokenMint,n);case 9:e.t0=e.sent[0],e.next=13;break;case 12:e.t0=n;case 13:return w=e.t0,S=t.id,N=[],T=[k],P=[],e.t1=i.d.SystemProgram,e.t2=n,e.t3=k.publicKey,e.t4=o.a.span,e.next=24,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 24:if(e.t5=e.sent,e.t6=o.b,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,space:e.t4,lamports:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t9=o.c.createInitMintInstruction(o.b,k.publicKey,0,n,n),e.t10=m(y,n,n,k.publicKey),e.t11=o.c.createMintToInstruction(o.b,k.publicKey,y,n,[],1),M=[e.t8,e.t9,e.t10,e.t11],!t.state.gatekeeper){e.next=47;break}return e.t12=N,e.next=36,Object(d.f)(n,t.state.gatekeeper.gatekeeperNetwork);case 36:if(e.t13=e.sent[0],e.t14={pubkey:e.t13,isWritable:!0,isSigner:!1},e.t12.push.call(e.t12,e.t14),!t.state.gatekeeper.expireOnUse){e.next=47;break}return N.push({pubkey:d.a,isWritable:!1,isSigner:!1}),e.t15=N,e.next=44,Object(d.e)(t.state.gatekeeper.gatekeeperNetwork);case 44:e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!1,isSigner:!1},e.t15.push.call(e.t15,e.t17);case 47:if(!t.state.whitelistMintSettings){e.next=62;break}return E=new i.d.PublicKey(t.state.whitelistMintSettings.mint),e.next=51,Object(d.d)(E,n);case 51:if(K=e.sent[0],N.push({pubkey:K,isWritable:!0,isSigner:!1}),!t.state.whitelistMintSettings.mode.burnEveryTime){e.next=62;break}return _=i.d.Keypair.generate(),N.push({pubkey:E,isWritable:!0,isSigner:!1}),N.push({pubkey:_.publicKey,isWritable:!1,isSigner:!0}),T.push(_),e.next=60,t.program.provider.connection.getAccountInfo(K);case 60:e.sent&&(M.push(o.c.createApproveInstruction(o.b,K,_.publicKey,n,[],1)),P.push(o.c.createRevokeInstruction(o.b,K,n,[])));case 62:return t.state.tokenMint&&(R=i.d.Keypair.generate(),T.push(R),N.push({pubkey:w,isWritable:!0,isSigner:!1}),N.push({pubkey:R.publicKey,isWritable:!1,isSigner:!0}),M.push(o.c.createApproveInstruction(o.b,w,R.publicKey,n,[],t.state.price.toNumber())),P.push(o.c.createRevokeInstruction(o.b,w,n,[]))),e.next=65,g(k.publicKey);case 65:return A=e.sent,e.next=68,j(k.publicKey);case 68:return I=e.sent,e.next=71,x(S);case 71:return B=e.sent,C=Object(r.a)(B,2),F=C[0],L=C[1],console.log(N.map((function(e){return e.pubkey.toBase58()}))),e.t18=M,e.next=79,t.program.instruction.mintNft(L,{accounts:{candyMachine:S,candyMachineCreator:F,payer:n,wallet:t.state.treasury,mint:k.publicKey,metadata:A,masterEdition:I,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:f,tokenProgram:o.b,systemProgram:l.SystemProgram.programId,rent:i.d.SYSVAR_RENT_PUBKEY,clock:i.d.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:l.SYSVAR_SLOT_HASHES_PUBKEY,instructionSysvarAccount:i.d.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:N.length>0?N:void 0});case 79:return e.t19=e.sent,e.t18.push.call(e.t18,e.t19),e.next=83,v(S);case 83:return W=e.sent,U=Object(r.a)(W,1),D=U[0],e.next=88,t.program.provider.connection.getAccountInfo(D);case 88:if(!(G=e.sent)||!t.state.retainAuthority){e.next=119;break}return e.prev=90,e.next=93,t.program.account.collectionPda.fetch(D);case 93:return Y=e.sent,console.log(Y),z=Y.mint,e.next=98,O(z,D);case 98:if(q=e.sent,console.log(z),!z){e.next=114;break}return e.next=103,g(z);case 103:return V=e.sent,e.next=106,j(z);case 106:return H=e.sent,console.log("Collection PDA: ",D.toBase58()),console.log("Authority: ",t.state.authority.toBase58()),e.t20=M,e.next=112,t.program.instruction.setCollectionDuringMint({accounts:{candyMachine:S,metadata:A,payer:n,collectionPda:D,tokenMetadataProgram:f,instructions:i.d.SYSVAR_INSTRUCTIONS_PUBKEY,collectionMint:z,collectionMetadata:V,collectionMasterEdition:H,authority:t.state.authority,collectionAuthorityRecord:q}});case 112:e.t21=e.sent,e.t20.push.call(e.t20,e.t21);case 114:e.next=119;break;case 116:e.prev=116,e.t22=e.catch(90),console.error(e.t22);case 119:return J=[],Q=[],X=t.state,Z=892+(G&&X.retainAuthority?182:0)+(X.tokenMint?177:0)+(X.whitelistMintSettings?33:0)+(null!==(a=X.whitelistMintSettings)&&void 0!==a&&null!==(c=a.mode)&&void 0!==c&&c.burnEveryTime?145:0)+(X.gatekeeper?33:0)+(null!==(b=X.gatekeeper)&&void 0!==b&&b.expireOnUse?66:0),$=4,ee=1,console.log("Transaction estimate: ",Z),Z>1230&&(te=M.splice(0,$),console.log(te),J.push(te),ne=T.splice(0,ee),Q.push(ne)),J.push(M),Q.push(T),P.length>0&&(J.push(P),Q.push([])),e.prev=130,e.next=133,Object(u.c)(t.program.provider.connection,t.program.provider.wallet,J,Q,u.a.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,p,h);case 133:return e.abrupt("return",e.sent.txs.map((function(e){return e.txid})));case 136:e.prev=136,e.t23=e.catch(130),console.log(e.t23);case 139:return e.abrupt("return",[]);case 140:case"end":return e.stop()}}),e,null,[[90,116],[130,136]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(10).Buffer)}},[[266,1,2]]]);
//# sourceMappingURL=main.4f208df2.chunk.js.map